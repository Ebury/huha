!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Huha=t()}}(function(){return function i(s,a,c){function u(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(f)return f(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return u(s[e][1][t]||t)},o,o.exports,i,s,a,c)}return a[e].exports}for(var f="function"==typeof require&&require,t=0;t<c.length;t++)u(c[t]);return u}({1:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],2:[function(t,e,n){var r=t("./_wks")("unscopables"),o=Array.prototype;null==o[r]&&t("./_hide")(o,r,{}),e.exports=function(t){o[r][t]=!0}},{"./_hide":19,"./_wks":51}],3:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":24}],4:[function(t,e,n){var c=t("./_to-iobject"),u=t("./_to-length"),f=t("./_to-absolute-index");e.exports=function(a){return function(t,e,n){var r,o=c(t),i=u(o.length),s=f(n,i);if(a&&e!=e){for(;s<i;)if((r=o[s++])!=r)return!0}else for(;s<i;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}}},{"./_to-absolute-index":44,"./_to-iobject":46,"./_to-length":47}],5:[function(t,e,n){var v=t("./_ctx"),m=t("./_iobject"),k=t("./_to-object"),j=t("./_to-length"),r=t("./_array-species-create");e.exports=function(l,t){var _=1==l,d=2==l,h=3==l,p=4==l,y=6==l,g=5==l||y,b=t||r;return function(t,e,n){for(var r,o,i=k(t),s=m(i),a=v(e,n,3),c=j(s.length),u=0,f=_?b(t,c):d?b(t,0):void 0;u<c;u++)if((g||u in s)&&(o=a(r=s[u],u,i),l))if(_)f[u]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return u;case 2:f.push(r)}else if(p)return!1;return y?-1:h||p?p:f}}},{"./_array-species-create":7,"./_ctx":10,"./_iobject":22,"./_to-length":47,"./_to-object":48}],6:[function(t,e,n){var r=t("./_is-object"),o=t("./_is-array"),i=t("./_wks")("species");e.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":23,"./_is-object":24,"./_wks":51}],7:[function(t,e,n){var r=t("./_array-species-constructor");e.exports=function(t,e){return new(r(t))(e)}},{"./_array-species-constructor":6}],8:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],9:[function(t,e,n){var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},{}],10:[function(t,e,n){var i=t("./_a-function");e.exports=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},{"./_a-function":1}],11:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],12:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":16}],13:[function(t,e,n){var r=t("./_is-object"),o=t("./_global").document,i=r(o)&&r(o.createElement);e.exports=function(t){return i?o.createElement(t):{}}},{"./_global":17,"./_is-object":24}],14:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],15:[function(t,e,n){var p=t("./_global"),y=t("./_core"),g=t("./_hide"),b=t("./_redefine"),v=t("./_ctx"),m="prototype",k=function(t,e,n){var r,o,i,s,a=t&k.F,c=t&k.G,u=t&k.S,f=t&k.P,l=t&k.B,_=c?p:u?p[e]||(p[e]={}):(p[e]||{})[m],d=c?y:y[e]||(y[e]={}),h=d[m]||(d[m]={});for(r in c&&(n=e),n)i=((o=!a&&_&&void 0!==_[r])?_:n)[r],s=l&&o?v(i,p):f&&"function"==typeof i?v(Function.call,i):i,_&&b(_,r,i,t&k.U),d[r]!=i&&g(d,r,s),f&&h[r]!=i&&(h[r]=i)};p.core=y,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128,e.exports=k},{"./_core":9,"./_ctx":10,"./_global":17,"./_hide":19,"./_redefine":40}],16:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],17:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],18:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],19:[function(t,e,n){var r=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":12,"./_object-dp":32,"./_property-desc":39}],20:[function(t,e,n){var r=t("./_global").document;e.exports=r&&r.documentElement},{"./_global":17}],21:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":12,"./_dom-create":13,"./_fails":16}],22:[function(t,e,n){var r=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},{"./_cof":8}],23:[function(t,e,n){var r=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"./_cof":8}],24:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],25:[function(t,e,n){"use strict";var r=t("./_object-create"),o=t("./_property-desc"),i=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},{"./_hide":19,"./_object-create":31,"./_property-desc":39,"./_set-to-string-tag":41,"./_wks":51}],26:[function(t,e,n){"use strict";var v=t("./_library"),m=t("./_export"),k=t("./_redefine"),j=t("./_hide"),O=t("./_has"),x=t("./_iterators"),S=t("./_iter-create"),w=t("./_set-to-string-tag"),T=t("./_object-gpo"),E=t("./_wks")("iterator"),A=!([].keys&&"next"in[].keys()),L="values",I=function(){return this};e.exports=function(t,e,n,r,o,i,s){S(n,e,r);var a,c,u,f=function(t){if(!A&&t in h)return h[t];switch(t){case"keys":case L:return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",_=o==L,d=!1,h=t.prototype,p=h[E]||h["@@iterator"]||o&&h[o],y=!A&&p||f(o),g=o?_?f("entries"):y:void 0,b="Array"==e&&h.entries||p;if(b&&(u=T(b.call(new t)))!==Object.prototype&&u.next&&(w(u,l,!0),v||O(u,E)||j(u,E,I)),_&&p&&p.name!==L&&(d=!0,y=function(){return p.call(this)}),v&&!s||!A&&!d&&h[E]||j(h,E,y),x[e]=y,x[l]=I,o)if(a={values:_?y:f(L),keys:i?y:f("keys"),entries:g},s)for(c in a)c in h||k(h,c,a[c]);else m(m.P+m.F*(A||d),e,a);return a}},{"./_export":15,"./_has":18,"./_hide":19,"./_iter-create":25,"./_iterators":28,"./_library":29,"./_object-gpo":35,"./_redefine":40,"./_set-to-string-tag":41,"./_wks":51}],27:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],28:[function(t,e,n){e.exports={}},{}],29:[function(t,e,n){e.exports=!1},{}],30:[function(t,e,n){"use strict";var _=t("./_object-keys"),d=t("./_object-gops"),h=t("./_object-pie"),p=t("./_to-object"),y=t("./_iobject"),o=Object.assign;e.exports=!o||t("./_fails")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=o({},t)[n]||Object.keys(o({},e)).join("")!=r})?function(t,e){for(var n=p(t),r=arguments.length,o=1,i=d.f,s=h.f;o<r;)for(var a,c=y(arguments[o++]),u=i?_(c).concat(i(c)):_(c),f=u.length,l=0;l<f;)s.call(c,a=u[l++])&&(n[a]=c[a]);return n}:o},{"./_fails":16,"./_iobject":22,"./_object-gops":34,"./_object-keys":37,"./_object-pie":38,"./_to-object":48}],31:[function(r,t,e){var o=r("./_an-object"),i=r("./_object-dps"),s=r("./_enum-bug-keys"),a=r("./_shared-key")("IE_PROTO"),c=function(){},u="prototype",f=function(){var t,e=r("./_dom-create")("iframe"),n=s.length;for(e.style.display="none",r("./_html").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f[u][s[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(c[u]=o(t),n=new c,c[u]=null,n[a]=t):n=f(),void 0===e?n:i(n,e)}},{"./_an-object":3,"./_dom-create":13,"./_enum-bug-keys":14,"./_html":20,"./_object-dps":33,"./_shared-key":42}],32:[function(t,e,n){var r=t("./_an-object"),o=t("./_ie8-dom-define"),i=t("./_to-primitive"),s=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":3,"./_descriptors":12,"./_ie8-dom-define":21,"./_to-primitive":49}],33:[function(t,e,n){var s=t("./_object-dp"),a=t("./_an-object"),c=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){a(t);for(var n,r=c(e),o=r.length,i=0;i<o;)s.f(t,n=r[i++],e[n]);return t}},{"./_an-object":3,"./_descriptors":12,"./_object-dp":32,"./_object-keys":37}],34:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],35:[function(t,e,n){var r=t("./_has"),o=t("./_to-object"),i=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":18,"./_shared-key":42,"./_to-object":48}],36:[function(t,e,n){var s=t("./_has"),a=t("./_to-iobject"),c=t("./_array-includes")(!1),u=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,r=a(t),o=0,i=[];for(n in r)n!=u&&s(r,n)&&i.push(n);for(;e.length>o;)s(r,n=e[o++])&&(~c(i,n)||i.push(n));return i}},{"./_array-includes":4,"./_has":18,"./_shared-key":42,"./_to-iobject":46}],37:[function(t,e,n){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return r(t,o)}},{"./_enum-bug-keys":14,"./_object-keys-internal":36}],38:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],39:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],40:[function(t,e,n){var i=t("./_global"),s=t("./_hide"),a=t("./_has"),c=t("./_uid")("src"),r="toString",o=Function[r],u=(""+o).split(r);t("./_core").inspectSource=function(t){return o.call(t)},(e.exports=function(t,e,n,r){var o="function"==typeof n;o&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(o&&(a(n,c)||s(n,c,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:r?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[c]||o.call(this)})},{"./_core":9,"./_global":17,"./_has":18,"./_hide":19,"./_uid":50}],41:[function(t,e,n){var r=t("./_object-dp").f,o=t("./_has"),i=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},{"./_has":18,"./_object-dp":32,"./_wks":51}],42:[function(t,e,n){var r=t("./_shared")("keys"),o=t("./_uid");e.exports=function(t){return r[t]||(r[t]=o(t))}},{"./_shared":43,"./_uid":50}],43:[function(t,e,n){var r=t("./_global"),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(t){return i[t]||(i[t]={})}},{"./_global":17}],44:[function(t,e,n){var r=t("./_to-integer"),o=Math.max,i=Math.min;e.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},{"./_to-integer":45}],45:[function(t,e,n){var r=Math.ceil,o=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?o:r)(t)}},{}],46:[function(t,e,n){var r=t("./_iobject"),o=t("./_defined");e.exports=function(t){return r(o(t))}},{"./_defined":11,"./_iobject":22}],47:[function(t,e,n){var r=t("./_to-integer"),o=Math.min;e.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},{"./_to-integer":45}],48:[function(t,e,n){var r=t("./_defined");e.exports=function(t){return Object(r(t))}},{"./_defined":11}],49:[function(t,e,n){var o=t("./_is-object");e.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":24}],50:[function(t,e,n){var r=0,o=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},{}],51:[function(t,e,n){var r=t("./_shared")("wks"),o=t("./_uid"),i=t("./_global").Symbol,s="function"==typeof i;(e.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},{"./_global":17,"./_shared":43,"./_uid":50}],52:[function(t,e,n){"use strict";var r=t("./_export"),o=t("./_array-methods")(5),i="find",s=!0;i in[]&&Array(1)[i](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),t("./_add-to-unscopables")(i)},{"./_add-to-unscopables":2,"./_array-methods":5,"./_export":15}],53:[function(t,e,n){"use strict";var r=t("./_add-to-unscopables"),o=t("./_iter-step"),i=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":2,"./_iter-define":26,"./_iter-step":27,"./_iterators":28,"./_to-iobject":46}],54:[function(t,e,n){var r=t("./_object-dp").f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||t("./_descriptors")&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},{"./_descriptors":12,"./_object-dp":32}],55:[function(t,e,n){var r=t("./_export");r(r.S+r.F,"Object",{assign:t("./_object-assign")})},{"./_export":15,"./_object-assign":30}],56:[function(t,e,n){for(var r=t("./es6.array.iterator"),o=t("./_object-keys"),i=t("./_redefine"),s=t("./_global"),a=t("./_hide"),c=t("./_iterators"),u=t("./_wks"),f=u("iterator"),l=u("toStringTag"),_=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),p=0;p<h.length;p++){var y,g=h[p],b=d[g],v=s[g],m=v&&v.prototype;if(m&&(m[f]||a(m,f,_),m[l]||a(m,l,g),c[g]=_,b))for(y in r)m[y]||i(m,y,r[y],!0)}},{"./_global":17,"./_hide":19,"./_iterators":28,"./_object-keys":37,"./_redefine":40,"./_wks":51,"./es6.array.iterator":53}],57:[function(c,l,t){(function(t){"use strict";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}c("core-js/modules/web.dom.iterable"),c("core-js/modules/es6.array.find"),c("core-js/modules/es6.function.name"),c("core-js/modules/es6.object.assign");var o=t.document,i="In progress",f={trackOnGoogleAnalytics:!1,trackOnIntercom:!1,trackOnSegment:!0},s=function(){function r(t,e){u(this,r);var n=Object.assign(f,e);this.name=t,this.status=i,this.effort=0,this.errors=0,this.start=(new Date).getTime(),this.end=null,this.trackOnGoogleAnalytics=n.trackOnGoogleAnalytics,this.trackOnIntercom=n.trackOnIntercom,this.trackOnSegment=n.trackOnSegment}return e(r,[{key:"addInteraction",value:function(){this.effort+=1}},{key:"addError",value:function(){this.errors+=1}},{key:"finish",value:function(t){this.status===i&&(this.end=(new Date).getTime(),this.status=t,this.track())}},{key:"complete",value:function(){this.finish("Completed")}},{key:"abandon",value:function(){this.finish("Abandoned")}},{key:"track",value:function(){this.trackOnGoogleAnalytics&&this.sendToGoogleAnalytics(),this.trackOnIntercom&&this.sendToIntercom(),this.trackOnSegment&&this.sendToSegment()}},{key:"sendToGoogleAnalytics",value:function(){"undefined"!=typeof gtag?(gtag("event","timing_complete",{event_category:this.name,event_label:"Time on task",value:this.time,name:this.status}),gtag("event",this.status,{event_category:this.name,event_label:"Error",value:this.errors}),gtag("event",this.status,{event_category:this.name,event_label:"Effort",value:this.effort})):"undefined"!=typeof ga&&(ga("send","timing",this.name,this.status,this.time,"Time on task"),ga("send","event",this.name,this.status,"Error",this.errors),ga("send","event",this.name,this.status,"Effort",this.effort))}},{key:"sendToIntercom",value:function(){"undefined"!=typeof Intercom&&Intercom("trackEvent",this.name,{errors:this.errors,effort:this.effort,time:this.time,status:this.status})}},{key:"sendToSegment",value:function(){"undefined"!=typeof analytics&&analytics.track(this.name,{category:this.name,action:this.status,label:"Task",value:1,errors:this.errors,effort:this.effort,time:this.time,result:this.status,started:this.start})}},{key:"time",get:function(){var t=0;return this.end&&(t=this.end-this.start),t}}]),r}(),a=function(){function c(t,e,n,r,o,i,s){u(this,c);var a=Object.assign(f,s||{});this.name=t,this.object=e,this.action=n,this.section=r,this.value=o,this.task=i,this.trackOnGoogleAnalytics=a.trackOnGoogleAnalytics,this.trackOnSegment=a.trackOnSegment}return e(c,[{key:"track",value:function(){this.trackOnGoogleAnalytics&&this.sendToGoogleAnalytics(),this.trackOnSegment&&this.sendToSegment()}},{key:"sendToGoogleAnalytics",value:function(){"undefined"!=typeof gtag?gtag("event",this.action,{event_category:this.section,event_label:this.object,value:this.value}):"undefined"!=typeof ga&&ga("send","event",this.action,this.section,this.object,this.value)}},{key:"sendToSegment",value:function(){"undefined"!=typeof analytics&&analytics.track(this.name,{category:this.section,label:this.object,action:this.action,value:this.value})}}]),c}(),n=function(){function n(t){u(this,n),this.tasks=[],this.events=[];var e=Object.assign(f,t||{});this.trackOnGoogleAnalytics=e.trackOnGoogleAnalytics,this.trackOnIntercom=e.trackOnIntercom,this.trackOnSegment=e.trackOnSegment,this._setUpEvents()}return e(n,[{key:"createTask",value:function(t){var e=this.getTask(t);void 0!==e&&e.abandon();var n=new s(t,{trackOnGoogleAnalytics:this.trackOnGoogleAnalytics,trackOnIntercom:this.trackOnIntercom,trackOnSegment:this.trackOnSegment});return this.tasks.push(n),n}},{key:"createEvent",value:function(t,e,n,r,o,i){var s=new a(t,e,n,r,o,i,{trackOnGoogleAnalytics:this.trackOnGoogleAnalytics,trackOnSegment:this.trackOnSegment});return s.track(),this.events.push(s),s}},{key:"getTask",value:function(e){return this.tasks.find(function(t){return t.name===e&&t.status===i})}},{key:"_setUpEvents",value:function(){var n=this;t.addEventListener("beforeunload",function(){n._abandonInProgressTasks()});["click","focus","change"].forEach(function(e){o.querySelector("body").addEventListener(e,function(t){"huhaTask"in t.target.dataset&&n._registerEvent(e,t.target)},!0)})}},{key:"_registerEvent",value:function(t,e){var n=e.dataset,r=n.huhaTask,o=n.huhaTrigger,i=n.huhaEvent;if(t===o)if("start"===i)this.createTask(r);else{var s=this.getTask(r);s&&("complete"===i?s.complete():"abandon"===i?s.abandon():"interaction"===i?s.addInteraction():"error"===i&&s.addError())}}},{key:"_abandonInProgressTasks",value:function(){this.tasks.filter(function(t){return t.status===i}).forEach(function(t){return t.abandon()})}}]),n}();l.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/modules/es6.array.find":52,"core-js/modules/es6.function.name":54,"core-js/modules/es6.object.assign":55,"core-js/modules/web.dom.iterable":56}]},{},[57])(57)});
//# sourceMappingURL=huha.js.map
